!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ImageCompare",[],e):"object"==typeof exports?exports.ImageCompare=e():t.ImageCompare=e()}(window,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);e.default=class{constructor(t,e={}){this.settings=Object.assign({controlColor:"#FFFFFF",controlShadow:!0,addCircle:!1,addCircleBlur:!0,smoothing:!0,smoothingAmount:100,hoverStart:!1,verticalMode:!1,startingPoint:50,fluidMode:!1},e),this.safariAgent=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),this.el=t,this.images={},this.wrapper=null,this.control=null,this.arrowContainer=null,this.arrowAnimator=[],this.active=!1,this.slideWidth=50,this.lineWidth=2,this.arrowCoordinates={circle:[5,3],standard:[8,0]}}mount(){this.safariAgent&&(this.settings.smoothing=!1),this._shapeContainer(),this._getImages(),this._buildControl(),this._events()}_events(){this.el.addEventListener("mousedown",t=>{this._activate(!0),this._slideCompare(t)}),this.el.addEventListener("mousemove",t=>this.active&&this._slideCompare(t)),this.el.addEventListener("mouseup",()=>this._activate(!1)),this.el.addEventListener("touchstart",t=>{this._activate(!0),document.documentElement.style.cssText+="\n    "}),this.el.addEventListener("touchmove",t=>{this.active&&this._slideCompare(t)}),this.el.addEventListener("touchend",()=>{this._activate(!1),document.documentElement.style.cssText-="\n    "}),this.el.addEventListener("mouseenter",()=>{this.settings.hoverStart&&this._activate(!0);let t=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach((e,i)=>{e.style.cssText=`\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        transition: 0.1s ease-out;\n        ${this.settings.verticalMode?`transform: translateY(${t[1]*(0===i?1:-1)}px);`:`transform: translateX(${t[1]*(0===i?1:-1)}px);`}\n        `})}),this.el.addEventListener("mouseleave",()=>{this._activate(!1);let t=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach((e,i)=>{e.style.cssText=`\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        transition: 0.1s ease-out;\n        ${this.settings.verticalMode?`transform: translateY(${0===i?`${t[0]}px`:`-${t[0]}px`});`:`transform: translateX(${0===i?`${t[0]}px`:`-${t[0]}px`});`}\n        `})})}_slideCompare(t){let e=this.el.getBoundingClientRect(),i=void 0!==t.touches?t.touches[0].clientX-e.left:t.clientX-e.left,n=void 0!==t.touches?t.touches[0].clientY-e.top:t.clientY-e.top,s=this.settings.verticalMode?n/e.height*100:i/e.width*100;s>=0&&s<=100&&(this.settings.verticalMode?this.control.style.top=`calc(${s}% - ${this.slideWidth/2}px)`:this.control.style.left=`calc(${s}% - ${this.slideWidth/2}px)`,this.settings.fluidMode?this.settings.verticalMode?this.wrapper.style.clipPath=`inset(0 0 ${100-s}% 0)`:this.wrapper.style.clipPath=`inset(0 0 0 ${s}%)`:this.settings.verticalMode?this.wrapper.style.height=`calc(${s}%)`:this.wrapper.style.width=`calc(${100-s}%)`)}_activate(t){this.active=t}_shapeContainer(){let t=document.createElement("div");this.el.style.cssText+=`\n        position: relative;\n        overflow: hidden;\n        cursor: ${this.settings.verticalMode?"row-resize":"col-resize"};\n      `,t.style.cssText="\n    z-index: 4;\n    position: absolute;\n    top: 0; left: 0;\n    width: 100%;\n    height: 100%;\n    ",this.el.appendChild(t)}_buildControl(){let t=document.createElement("div"),e=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div");i.style.cssText=`\n        width: 100%;\n        height: 100%;\n        display: flex;\n        ${this.settings.verticalMode&&"flex-direction: column"};\n        justify-content: space-between;\n        align-items: center;\n        position: absolute;\n        transition: 0.1s ease-out;\n        z-index: 5;\n    `;for(var s=0;s<=1;s++){let t=document.createElement("div"),e=`<svg\n      height="15"\n      width="15"\n       style="\n       transform: \n       scale(${this.settings.addCircle?.7:1.5})  \n       rotateZ(${0===s?this.settings.verticalMode?"-90deg":"180deg":this.settings.verticalMode?"90deg":"0deg"}); height: 20px; width: 20px;\n       \n       ${this.settings.controlShadow?`\n       -webkit-filter: drop-shadow( 0px 3px 5px rgba(0, 0, 0, .5));\n       filter: drop-shadow( 0px ${0===s?"-3px":"3px"} 5px rgba(0, 0, 0, .5));\n       `:""}\n       "\n       xmlns="http://www.w3.org/2000/svg" data-name="Layer 1" viewBox="0 0 15 15">\n       <path ${this.settings.addCircle?'fill="transparent"':`fill="${this.settings.controlColor}"`}\n       stroke="${this.settings.controlColor}"\n       stroke-linecap="round"\n       stroke-width="${this.settings.addCircle?3:0}"\n\n       \n       d="M4.5 1.9L10 7.65l-5.5 5.4"\n     </svg>`;t.innerHTML+=e,this.arrowAnimator.push(t),i.appendChild(t)}let o=this.settings.addCircle?this.arrowCoordinates.circle:this.arrowCoordinates.standard;this.arrowAnimator.forEach((t,e)=>{t.style.cssText=`\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: 0.1s ease-out;\n      ${this.settings.verticalMode?`transform: translateY(${0===e?`${o[0]}px`:`-${o[0]}px`});`:`transform: translateX(${0===e?`${o[0]}px`:`-${o[0]}px`});`}\n      `}),t.style.cssText=`\n    position: absolute;\n    display: flex;\n    flex-direction: ${this.settings.verticalMode?"row":"column"};\n    justify-content: center;\n    align-items: center;\n    box-sizing: border-box;\n    height: ${this.settings.verticalMode?`${this.slideWidth}px;`:"100%;"}\n    width: ${this.settings.verticalMode?"100%;":`${this.slideWidth}px;`}\n    top: ${this.settings.verticalMode?`calc(${this.settings.startingPoint}% - ${this.slideWidth/2}px);`:"0px;"}\n    left: ${this.settings.verticalMode?"0px;":`calc(${this.settings.startingPoint}% - ${this.slideWidth/2}px);`}\n    z-index: 5;\n    ${"ontouchstart"in document.documentElement?"":this.settings.smoothing?`transition: ${this.settings.smoothingAmount}ms ease-out;`:""}\n    `,e.style.cssText=`\n        height: ${this.settings.verticalMode?`${this.lineWidth}px`:"50%"};\n        width: ${this.settings.verticalMode?"50%":`${this.lineWidth}px`};\n        z-index: 6;\n        background: ${this.settings.controlColor};\n        ${this.settings.controlShadow&&"box-shadow: 0px 0px 15px rgba(0,0,0,0.5);"}\n    `;let r=e.cloneNode(!0);n.style.cssText=`\n      width: 50px;\n      height: 50px;\n      ${this.settings.addCircleBlur&&"backdrop-filter: blur(5px);"}\n      box-sizing: border-box;\n      flex-shrink: 0;\n      border-radius: 999px;\n      border: ${this.lineWidth}px solid ${this.settings.controlColor};\n      ${this.settings.controlShadow&&"box-shadow: 0px 0px 15px rgba(0,0,0,0.5);"}  \n    `,t.appendChild(e),this.settings.addCircle&&t.appendChild(n),t.appendChild(i),t.appendChild(r),this.arrowContainer=i,this.control=t,this.el.appendChild(t)}_getImages(){let t=this.el.children;t=[...t].filter(t=>"IMG"===t.nodeName),this.settings.verticalMode&&t.reverse();for(let e=0;e<=1;e++){let i=t[e];if(i.style.cssText=`\n      width: ${1===e?this.settings.verticalMode?"100%":"auto":"100%"};\n      height: ${1===e?this.settings.verticalMode?"auto":"100%":"auto"};\n      position: ${1===e?"absolute":"static"};\n      z-index: ${0===e?"1":"2"};\n      ${1===e?"right: 0;":"left: 0;"};\n      top: 0;\n      display: ${this.settings.fluidMode?"none":"block"};\n      pointer-events: none;\n      -khtml-user-select: none;\n      -o-user-select: none;\n      -moz-user-select: none;\n      -webkit-user-select: none;\n      user-select: none;\n      max-width: none;\n      `,1===e){let e=document.createElement("div"),n=t[1].src;e.style.cssText=`\n            position: absolute;\n            width: ${this.settings.fluidMode||this.settings.verticalMode?"100%":`${100-this.settings.startingPoint}%`};\n            height: ${this.settings.verticalMode?this.settings.fluidMode?"100%":`${this.settings.startingPoint}%`:"100%"};\n            right: 0;\n            top: 0;\n            overflow: hidden;\n            background-size: cover;\n            background-position: center;\n            z-index: 3;\n            ${"ontouchstart"in document.documentElement?"":this.settings.smoothing?`transition: ${this.settings.smoothingAmount}ms ease-out;`:""}\n            ${this.settings.fluidMode&&`background-image: url(${n}); clip-path: inset(${this.settings.verticalMode?` 0 0 ${100-this.settings.startingPoint}% 0`:`0 0 0 ${this.settings.startingPoint}%`})`}\n        `,e.appendChild(i),this.wrapper=e,this.el.appendChild(this.wrapper)}}if(this.settings.fluidMode){let e=t[0].src,i=document.createElement("div");i.style.cssText=`\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-image: url(${e});\n        background-size: cover;\n        background-position: center;\n      `,this.el.appendChild(i)}}}}]).default}));
//# sourceMappingURL=image-compare-viewer.min.js.map